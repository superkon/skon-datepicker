{"version":3,"names":[],"mappings":"","sources":["skon_datepicker.js"],"sourcesContent":["sk_datePicker.prototype.target = null;\r\nsk_datePicker.prototype.settings = null;\r\n\r\nsk_datePicker.prototype.initDate = null;\r\nsk_datePicker.prototype.initDateObj = null;\r\nsk_datePicker.prototype.language = null;\r\n\r\nsk_datePicker.prototype.sk_datepickTable = null;\r\nsk_datePicker.prototype.sk_selectorWrapper = null;\r\n\r\nsk_datePicker.prototype.currentMonth = null;\r\nsk_datePicker.prototype.currentYear = null;\r\n\r\nsk_datePicker.prototype.currentMonthFirstDate = null;\r\nsk_datePicker.prototype.currentMonthLastDate = null;\r\n\r\nsk_datePicker.prototype.currentMonthFirstDate = null;\r\nsk_datePicker.prototype.currentMonthLastDate = null;\r\nsk_datePicker.prototype.monthDisplayArray = null;\r\n\r\nsk_datePicker.prototype.currentMonthArray = null;\r\n\r\n//click trigger\r\nsk_datePicker.prototype.yearArrowLeft = null;\r\nsk_datePicker.prototype.yearArrowRight = null;\r\nsk_datePicker.prototype.monthArrowLeft = null;\r\nsk_datePicker.prototype.monthArrowRight = null;\r\nsk_datePicker.prototype.weekdayItem = null;\r\n\r\n//ajax\r\nsk_datePicker.prototype.ajaxContentArray = null;\r\nsk_datePicker.prototype.ajaxRevisedArray = null;\r\n\r\nsk_datePicker.prototype.currentType = null;\r\nsk_datePicker.prototype.isInitCall = true;\r\n\r\nsk_datePicker.prototype.selectedDate = true;\r\n\r\nsk_datePicker.prototype.languagePack = [{\r\n    \"en\": {\r\n        \"weekdayN\": [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n        \"weekdaySf\": [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\r\n        \"monthN\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n        \"monthSf\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\r\n    },\r\n    \"tc\": {\r\n        \"weekdayN\": [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n        \"weekdaySf\": [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\r\n        \"monthN\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n        \"monthSf\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\r\n    }\r\n}];\r\n\r\nfunction sk_datePicker(pTarget, config) {\r\n    var _self = this;\r\n\r\n    _self.target = pTarget;\r\n\r\n    _self.settings = {\r\n        version: '1.0.0',\r\n        developer: 'kon.hui',\r\n        currentDate: \"today\",\r\n        monthFormat: \"N\",\r\n        weekFormat: \"Sf\",\r\n        lang: \"en\",\r\n        controller: \"s1\",\r\n        tableStyle: {\r\n\r\n        },\r\n        onChangeMonth: function(pTarget) {\r\n            console.log(\"change month or year\");\r\n        }\r\n    };\r\n\r\n    $.extend(_self.settings, config);\r\n\r\n    _self.init();\r\n}\r\n\r\nsk_datePicker.prototype.init = function() {\r\n    var _self = this;\r\n\r\n    _self.language = _self.settings.lang;\r\n\r\n    //init Date Array\r\n    _self.setInitDateArray();\r\n\r\n    //selectorControl ( Customize S1 )\r\n    _self.createSelectController();\r\n\r\n    //createTable\r\n    _self.createTable();\r\n\r\n    //add Date into cell\r\n    _self.buildCurrentMonthArray();\r\n\r\n};\r\n\r\nsk_datePicker.prototype.createSelectController = function() {\r\n    var _self = this;\r\n\r\n    //initControllerTable\r\n    _self.target.append('<div class=\"sk_selectorWrapper ' + _self.settings.controller + '\"></div>');\r\n    _self.sk_selectorWrapper = $('.sk_selectorWrapper', _self.target);\r\n\r\n    _self.sk_selectorWrapper.append(createSelectorHTML());\r\n\r\n    //console.log(_self.currentMonth, _self.currentYear, _self.monthDisplayArray);\r\n\r\n    _self.yearArrowLeft = $('.selectorItem.year .datepickerArrow.left', _self.target);\r\n    _self.yearArrowRight = $('.selectorItem.year .datepickerArrow.right', _self.target);\r\n\r\n    _self.monthArrowLeft = $('.selectorItem.month .datepickerArrow.left', _self.target);\r\n    _self.monthArrowRight = $('.selectorItem.month .datepickerArrow.right', _self.target);\r\n\r\n    bindSelectorArrow();\r\n\r\n    function createSelectorHTML() {\r\n        var _html = null;\r\n\r\n        _html = '';\r\n\r\n        _html += '<div class=\"monthSelectWrapper coGrid-1-2 np\">';\r\n        _html += '\t<div class=\"selectorItem month\">';\r\n        _html += '\t\t<a href=\"javascript:void(0);\" class=\"datepickerArrow left\">';\r\n        _html += '\t\t\t<span class=\"ghost\"></span><span class=\"icon-arrowRight\"></span>';\r\n        _html += '\t\t</a><span class=\"displayValue\">' + _self.monthDisplayArray[_self.currentMonth];\r\n        _html += '\t\t</span><a href=\"javascript:void(0);\" class=\"datepickerArrow right\">';\r\n        _html += '\t\t\t<span class=\"ghost\"></span><span class=\"icon-arrowLeft\"></span>';\r\n        _html += '\t\t</a>';\r\n        _html += '\t</div>';\r\n        _html += '</div><div class=\"yearSelectWrapper coGrid-1-2 np\">';\r\n        _html += '\t<div class=\"selectorItem year\">';\r\n        _html += '\t\t<a href=\"javascript:void(0);\" class=\"datepickerArrow left\">';\r\n        _html += '\t\t\t<span class=\"ghost\"></span><span class=\"icon-arrowRight\"></span>';\r\n        _html += '\t\t</a><span class=\"displayValue\">' + _self.currentYear;\r\n        _html += '\t\t</span><a href=\"javascript:void(0);\" class=\"datepickerArrow right\">';\r\n        _html += '\t\t\t<span class=\"ghost\"></span><span class=\"icon-arrowLeft\"></span>';\r\n        _html += '\t\t</a>';\r\n        _html += '\t</div>';\r\n\r\n\r\n        return _html;\r\n    }\r\n\r\n    function bindSelectorArrow() {\r\n        _self.yearArrowRight.on('click', function() {\r\n            _self.currentYear++;\r\n            $('.selectorItem.year', _self.target).find('.displayValue').html(_self.currentYear);\r\n            logCurrentData();\r\n        });\r\n\r\n        _self.yearArrowLeft.on('click', function() {\r\n            _self.currentYear--;\r\n            $('.selectorItem.year', _self.target).find('.displayValue').html(_self.currentYear);\r\n            logCurrentData();\r\n        });\r\n\r\n        _self.monthArrowRight.on('click', function() {\r\n            _self.currentMonth = (_self.currentMonth + 1) % 12;\r\n            $('.selectorItem.month', _self.target).find('.displayValue').html(_self.monthDisplayArray[_self.currentMonth]);\r\n            logCurrentData();\r\n        });\r\n\r\n        _self.monthArrowLeft.on('click', function() {\r\n            _self.currentMonth = (_self.currentMonth - 1 < 0) ? _self.currentMonth = 11 : _self.currentMonth - 1;\r\n            $('.selectorItem.month', _self.target).find('.displayValue').html(_self.monthDisplayArray[_self.currentMonth]);\r\n            logCurrentData();\r\n        });\r\n    }\r\n\r\n    function logCurrentData() {\r\n        // unbind date\r\n        _self.weekdayItem.off('click');\r\n\r\n        _self.buildCurrentMonthArray();\r\n    }\r\n};\r\n\r\nsk_datePicker.prototype.setInitDateArray = function() {\r\n    var _self = this;\r\n\r\n    //default Today\r\n    if (_self.settings.currentDate == \"today\") {\r\n        _self.initDate = new Date();\r\n\r\n        _self.initDateObj = {};\r\n\r\n        _self.initDateObj.day = _self.initDate.getDate();\r\n        _self.initDateObj.month = _self.initDate.getMonth();\r\n        _self.initDateObj.year = _self.initDate.getFullYear();\r\n        _self.initDateObj.week = _self.initDate.getDay();\r\n\r\n        _self.initDateObj.format = _self.returnDateFormat([_self.initDateObj.day, _self.initDateObj.month, _self.initDateObj.year]);\r\n\r\n        _self.initDateObj.obj = moment(_self.initDateObj.format, \"dd-mm-yyyy\");\r\n\r\n    }\r\n\r\n    _self.currentMonth = _self.initDateObj.month;\r\n    _self.currentYear = _self.initDateObj.year;\r\n\r\n    _self.monthDisplayArray = _self.languagePack[0][_self.language][\"month\" + _self.settings.monthFormat];\r\n};\r\n\r\nsk_datePicker.prototype.buildCurrentMonthArray = function() {\r\n    var _self = this;\r\n\r\n    _self.currentMonthFirstDate = new Date(_self.currentYear, _self.currentMonth, 1);\r\n    _self.currentMonthLastDate = new Date(_self.currentYear, _self.currentMonth + 1, 1);\r\n\r\n    //console.log(_self.currentMonthFirstDate, _self.currentMonthLastDate);\r\n\r\n    _self.currentMonthArray = [];\r\n\r\n    var _different = moment(_self.currentMonthLastDate).diff(moment(_self.currentMonthFirstDate), 'days');\r\n\r\n    var _counter = 0;\r\n\r\n    for (_i = 0; _i < _different; _i++) {\r\n        var _tempDate = moment(_self.currentMonthFirstDate).add(_i, \"d\");\r\n\r\n        var _tempObj = {};\r\n\r\n        _tempObj.momentObj = _tempDate;\r\n        _tempObj.date = _tempDate.date();\r\n        _tempObj.cellNum = _tempDate.day();\r\n\r\n        if (_i !== 0) {\r\n            if (_tempObj.cellNum === 0) _counter++;\r\n        }\r\n\r\n        _tempObj.rowNum = _counter;\r\n\r\n        _self.currentMonthArray.push(_tempObj);\r\n    }\r\n\r\n    console.log(_self.currentMonthArray);\r\n\r\n    _self.addDateItem();\r\n\r\n    _self.weekdayItem = $('.weekdayItem', _self.target);\r\n\r\n    if (_self.settings.onChangeDate != \"undefinded\") {\r\n        _self.settings.onChangeDate(_self);\r\n    }\r\n};\r\n\r\nsk_datePicker.prototype.addDateItem = function() {\r\n    var _self = this;\r\n\r\n    var _counter = 0;\r\n\r\n    if (_counter === 0) {\r\n        changeContent();\r\n\r\n        if (_self.settings.onChangeMonth != \"undefinded\") {\r\n            _self.settings.onChangeMonth(_self);\r\n        }\r\n\r\n        $('.weekdayItem', _self.target).off('click').on('click', function() {\r\n            if ($(this).hasClass('withEvent')) {\r\n                var _date = $(this).data('date');\r\n\r\n                $('.weekdayItem', _self.target).removeClass('selected');\r\n                $(this).addClass('selected');\r\n\r\n\r\n                if (typeof _self.ajaxRevisedArray[0][_date] != \"undefined\") {\r\n                    _self.selectedDate = _date;\r\n\r\n                    if (_self.currentType == \"whatsOn\") {\r\n                        _self.destroyDisplayContentWO();\r\n                        _self.initWhatsOn(_self.ajaxRevisedArray[0][_date]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    _counter++;\r\n\r\n    function changeContent() {\r\n        //clear\r\n        $('.dateRow td', _self.target).find('.item').html('');\r\n        $('.weekdayItem', _self.target).removeClass('current');\r\n        $('.weekdayItem', _self.target).removeClass('selected');\r\n        $('.weekdayItem', _self.target).attr('data-date', '');\r\n\r\n        for (_i = 0; _i < _self.currentMonthArray.length; _i++) {\r\n            var _element = _self.currentMonthArray[_i];\r\n            var _string = _self.returnDateFormat([_element.momentObj.date(), _element.momentObj.month(), _element.momentObj.year()]);\r\n            var _currentDate = _self.initDateObj.format;\r\n\r\n            $('.dateRow[data-rownum=\"' + _element.rowNum + '\"] td[data-cellnum=\"' + _element.cellNum + '\"]', _self.target).find('.item').html(_element.date);\r\n            $('.dateRow[data-rownum=\"' + _element.rowNum + '\"] td[data-cellnum=\"' + _element.cellNum + '\"]', _self.target).find('.weekdayItem').attr('data-date', _string);\r\n\r\n            if (_string == _currentDate) {\r\n                $('.weekdayItem[data-date=\"' + _currentDate + '\"]', _self.target).addClass('current');\r\n            }\r\n        }\r\n\r\n        $('.weekdayItem[data-date=\"' + _self.selectedDate + '\"]', _self.target).addClass('selected');\r\n    }\r\n};\r\n\r\nsk_datePicker.prototype.returnDateFormat = function(pArray) {\r\n    var _self = this;\r\n\r\n    var _day = (pArray[0] < 10) ? '0' + pArray[0] : pArray[0];\r\n    var _month = ((pArray[1] + 1) < 10) ? '0' + (pArray[1] + 1) : (pArray[1] + 1);\r\n    var _year = pArray[2];\r\n\r\n    return _day + '-' + _month + '-' + _year;\r\n};\r\n\r\nsk_datePicker.prototype.postAjaxContent = function(pData, pType) {\r\n    var _self = this;\r\n\r\n    _self.ajaxContentArray = []; //clear in destroy\r\n    _self.ajaxContentArray = pData;\r\n    // console.log(pData);\r\n    _self.currentType = pType;\r\n\r\n    var _mStartDate = moment([_self.currentYear, _self.currentMonth, 1]);\r\n    var _mEndDate = moment([_self.currentYear, _self.currentMonth + 1, 1]).subtract(1, 'd');\r\n\r\n    $('.eventBorder', _self.target).remove();\r\n    $('.weekdayItem', _self.target).removeClass('withEvent');\r\n    $('.weekdayItem', _self.target).removeClass('firstDay');\r\n\r\n    $.each(_self.ajaxContentArray[0].items, function(_i, _el) {\r\n\r\n        _el.startDate = moment(_el.startDate, \"DD-MM-YYYY\");\r\n        _el.endDate = moment(_el.endDate, \"DD-MM-YYYY\");\r\n    });\r\n\r\n    var _currentMonth = (_self.currentMonth + 1 < 10) ? '0' + (_self.currentMonth + 1) : _self.currentMonth + 1;\r\n    var _getMonthYear = _currentMonth + '-' + _self.currentYear;\r\n\r\n    var _length = moment(_getMonthYear, \"MM-YYYY\").daysInMonth();\r\n\r\n    //check Every day in the month\r\n    var _tempObj = {};\r\n\r\n    for (_i = 1; _i <= _length; _i++) {\r\n        var _currentDay = (_i < 10) ? '0' + _i : _i;\r\n        var _currentDate = moment(_currentDay + '-' + _getMonthYear, \"DD-MM-YYYY\");\r\n\r\n        var _dateName = _currentDay + '-' + _getMonthYear;\r\n\r\n        _tempObj[_dateName] = [];\r\n\r\n        $.each(_self.ajaxContentArray[0].items, function(_i, _el) {\r\n            var _start = _el.startDate._i;\r\n            _start = moment(_start, \"DD-MM-YYYY\").subtract(1, 'days');\r\n\r\n            var _end = _el.endDate._i;\r\n            _end = moment(_end, \"DD-MM-YYYY\").add(1, 'days');\r\n\r\n            if (moment(_currentDate).isBetween(_start, _end)) {\r\n                var _itemObj = {};\r\n\r\n                _itemObj.id = _el.id;\r\n                _itemObj.img = _el.img;\r\n                _itemObj.alt = _el.alt;\r\n                _itemObj.title = _el.title;\r\n                _itemObj.startDate = _el.startDate;\r\n                _itemObj.endDate = _el.endDate;\r\n                _itemObj.tag = _el.tag;\r\n                _itemObj.link = _el.link;\r\n                _itemObj.message = _el.message;\r\n                _itemObj.displayDateFormat = dateFormatConvert(_itemObj.startDate, _itemObj.endDate);\r\n                _itemObj.firstChar = _el.message.charAt(0);\r\n                _itemObj.updatedMessage = _el.message.slice(1);\r\n\r\n                //console.log(_currentDate._i, _el.startDate._i);\r\n\r\n\r\n                if (_currentDate._i == _el.startDate._i) {\r\n                    _itemObj.isFirstDay = true;\r\n                    $('.weekdayItem[data-date=\"' + _currentDate._i + '\"]', _self.target).addClass('firstDay');\r\n\r\n                } else {\r\n                    _itemObj.isFirstDay = false;\r\n                }\r\n\r\n                $('.weekdayItem[data-date=\"' + _currentDate._i + '\"]', _self.target).addClass('withEvent');\r\n\r\n                _tempObj[_dateName].push(_itemObj);\r\n            }\r\n        });\r\n\r\n        //console.log(_tempObj);\r\n\r\n        _self.ajaxRevisedArray = []; //clear in destroy\r\n        _self.ajaxRevisedArray.push(_tempObj);\r\n    }\r\n\r\n    for (var _i in _self.ajaxRevisedArray[0]) {\r\n        if (_self.ajaxRevisedArray[0][_i].length > 0) {\r\n            $('<span class=\"eventBorder\"></span>').insertBefore($('.weekdayItem[data-date=\"' + _i + '\"]', _self.target).find('.cover'));\r\n        }\r\n    }\r\n\r\n    if (_self.isInitCall) {\r\n        //check init date, do it once only\r\n        if (_self.ajaxRevisedArray[0][_self.initDateObj.format].length > 0) {\r\n            $('.weekdayItem[data-date=\"' + _self.initDateObj.format + '\"]', _self.target).addClass('selected');\r\n\r\n            _self.selectedDate = _self.initDateObj.format;\r\n\r\n            if (_self.currentType == \"whatsOn\") {\r\n                _self.initWhatsOn(_self.ajaxRevisedArray[0][_self.initDateObj.format]);\r\n            }\r\n\r\n        } else {\r\n            var _end = moment().add('months', 1).date(0);\r\n            var _diff = _end.diff(_self.initDateObj.obj, 'days');\r\n            var _counter = 1;\r\n\r\n            for (_i = 1; _i < _diff + 1; _i++) {\r\n                var _tempDate = _self.initDateObj.obj.clone().add(_i, 'days');\r\n                var _string = _self.returnDateFormat([_tempDate.date(), _tempDate.month(), _tempDate.year()]);\r\n                var _length2 = _self.ajaxRevisedArray[0][_string].length;\r\n\r\n                if (_length2 > 0) {\r\n                    if (_self.currentType == \"whatsOn\") {\r\n                        _self.initWhatsOn(_self.ajaxRevisedArray[0][_string]);\r\n                    }\r\n\r\n                    $('.weekdayItem[data-date=\"' + _string + '\"]', _self.target).addClass('selected');\r\n                    _self.selectedDate = _string;\r\n\r\n                    break;\r\n\r\n                } else {\r\n                    _counter++;\r\n                }\r\n            }\r\n\r\n            if (_counter == _diff) {\r\n                //console.log(\"display no result\");\r\n            }\r\n        }\r\n        _self.isInitCall = false;\r\n    }\r\n\r\n    function dateFormatConvert(pStartDay, pEndDay) {\r\n        var _sDay = pStartDay.date();\r\n        var _sMonth = _self.languagePack[0][_self.language][\"monthSf\"][pStartDay.month()];\r\n        var _sYear = pStartDay.year();\r\n\r\n        var _startDayString = _sDay + ' ' + _sMonth + ' ' + _sYear;\r\n\r\n        if (pStartDay._i == pEndDay._i) {\r\n            return _startDayString;\r\n        } else {\r\n            var _eDay = pEndDay.date();\r\n            var _eMonth = _self.languagePack[0][_self.language][\"monthSf\"][pEndDay.month()];\r\n            var _eYear = pEndDay.year();\r\n\r\n            var _endDayString = _eDay + ' ' + _eMonth + ' ' + _eYear;\r\n\r\n            return _startDayString + ' - ' + _endDayStringcover\r\n        }\r\n    }\r\n};\r\n\r\n/********** What's On **********/\r\nsk_datePicker.prototype.indexWO = 0;\r\nsk_datePicker.prototype.currentWOArray = null;\r\n\r\nsk_datePicker.prototype.initWhatsOn = function(pArray) {\r\n    var _self = this;\r\n    var _localTarget = $('.whatonDisplayWrapper');\r\n\r\n    _self.currentWOArray = pArray;\r\n\r\n    //console.log(_self.currentWOArray, _self.indexWO);\r\n\r\n    _self.showHideArrowWO();\r\n\r\n    _self.emptyDisplayContentWO();\r\n    _self.loadDisplayContentWO(_self.currentWOArray[_self.indexWO]);\r\n\r\n    //console.log(_self.currentWOArray[_self.indexWO]);\r\n\r\n    _self.bindArrowWO();\r\n};\r\n\r\nsk_datePicker.prototype.destroyDisplayContentWO = function() {\r\n    var _self = this;\r\n    var _localTarget = $('.whatonDisplayWrapper');\r\n\r\n    $('.whatsonArrow.left', _localTarget).off('click');\r\n    $('.whatsonArrow.right', _localTarget).off('click');\r\n\r\n    _self.emptyDisplayContentWO();\r\n    _self.indexWO = 0;\r\n    _self.currentWOArray = null;\r\n};\r\n\r\nsk_datePicker.prototype.bindArrowWO = function() {\r\n    var _self = this;\r\n    var _localTarget = $('.whatonDisplayWrapper');\r\n\r\n    $('.whatsonArrow.left', _localTarget).on('click', function() {\r\n        _self.indexWO--;\r\n        _self.showHideArrowWO();\r\n\r\n        _self.emptyDisplayContentWO();\r\n        _self.loadDisplayContentWO(_self.currentWOArray[_self.indexWO]);\r\n    });\r\n\r\n    $('.whatsonArrow.right', _localTarget).on('click', function() {\r\n        _self.indexWO++;\r\n        _self.showHideArrowWO();\r\n\r\n        _self.emptyDisplayContentWO();\r\n        _self.loadDisplayContentWO(_self.currentWOArray[_self.indexWO]);\r\n    });\r\n\r\n};\r\n\r\nsk_datePicker.prototype.showHideArrowWO = function() {\r\n    var _self = this;\r\n    var _localTarget = $('.whatonDisplayWrapper');\r\n\r\n    //console.log(_self.currentWOArray);\r\n\r\n    if (_self.currentWOArray.length > 1) {\r\n        $('.whatsOnArrowWrapper', _localTarget).show();\r\n    } else {\r\n        $('.whatsOnArrowWrapper', _localTarget).hide();\r\n    }\r\n\r\n    $('.whatsonArrow.left', _localTarget).show();\r\n    $('.whatsonArrow.right', _localTarget).show();\r\n\r\n    if (_self.indexWO === 0) {\r\n        $('.whatsonArrow.left', _localTarget).hide();\r\n    }\r\n\r\n    if (_self.indexWO == 1) {\r\n        $('.whatsonArrow.right', _localTarget).hide();\r\n    }\r\n};\r\n\r\nsk_datePicker.prototype.emptyDisplayContentWO = function() {\r\n    var _self = this;\r\n    var _localTarget = $('.whatonDisplayWrapper');\r\n\r\n    $('.displayContent', _localTarget).html('');\r\n    $('.displayImage', _localTarget).html('');\r\n};\r\n\r\nsk_datePicker.prototype.loadDisplayContentWO = function(pArray) {\r\n    var _self = this;\r\n\r\n    var _localTarget = $('.whatonDisplayWrapper');\r\n\r\n    var _htmlContent = null;\r\n    _htmlContent = '';\r\n\r\n    _htmlContent += '<h3 class=\"title whatsOnAniIn\">' + pArray.title + '</h3>';\r\n    _htmlContent += '<p class=\"date whatsOnAniIn\">' + pArray.displayDateFormat + '</p>';\r\n    _htmlContent += '<div class=\"tagWrapper\">';\r\n\r\n    for (_i = 0; _i < pArray.tag.length; _i++) {\r\n        _htmlContent += '<a href=\"javascript:void(0);\" class=\"tagItem color-bg-' + pArray.tag[_i] + ' whatsOnAniIn\">' + pArray.tag[_i] + '</a>';\r\n    }\r\n\r\n    _htmlContent += '</div>';\r\n    _htmlContent += '<div class=\"mainMessage whatsOnAniIn\">';\r\n    _htmlContent += '\t<p class=\"text-content\">';\r\n    _htmlContent += '\t\t<span class=\"fc-text-' + pArray.tag[0] + '\">' + pArray.firstChar + '</span>' + pArray.updatedMessage;\r\n    _htmlContent += '\t\t<a href=\"' + pArray.link + '\" class=\"readmore\"> more&raquo;</a>';\r\n    _htmlContent += '\t</p>';\r\n    _htmlContent += '</div>';\r\n\r\n    $('.displayContent', _localTarget).append(_htmlContent);\r\n    $('.displayImage', _localTarget).append('<a href=\"' + pArray.link + '\"><img class=\"img100\" src=\"' + pArray.img + '\" alt=\"' + pArray.alt + '\"/></a>');\r\n\r\n    colorSetting();\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nsk_datePicker.prototype.createTable = function() {\r\n    var _self = this;\r\n\r\n    //initTable\r\n    _self.target.append('<table class=\"sk_datepickTable\"></table>');\r\n    _self.sk_datepickTable = $('.sk_datepickTable', _self.target);\r\n\r\n    //weekSetting\r\n    var weekDisplayArray = _self.languagePack[0][_self.language][\"weekday\" + _self.settings.weekFormat];\r\n    _self.sk_datepickTable.append(createTableRowHTML(\"weekdayRow\", 0, weekDisplayArray));\r\n\r\n    //buildFrame\r\n    for (_j = 0; _j < 6; _j++) {\r\n        _self.sk_datepickTable.append(createTableRowHTML(\"dateRow\", _j));\r\n    }\r\n\r\n    function createTableRowHTML(pClass, pNum, pArray) {\r\n        var _html = null;\r\n\r\n        _html = '';\r\n        _html += '';\r\n\r\n        if (pClass == \"weekdayRow\") {\r\n            _html += '<tr class=\"' + pClass + '\">';\r\n        } else {\r\n            _html += '<tr class=\"' + pClass + '\" data-rownum=\"' + pNum + '\">';\r\n        }\r\n\r\n        for (_i = 0; _i < 7; _i++) {\r\n            if (pClass == \"weekdayRow\") {\r\n                _html += '\t<td>';\r\n                //_html += '\t\t<span class=\"outerCellFrame\">';\r\n                _html += '\t\t\t<span class=\"weekdayItem\">';\r\n                _html += '\t\t\t\t<span class=\"dateText\"><span class=\"item\">' + pArray[_i] + '</span></span>';\r\n                _html += '\t\t\t</span>';\r\n                //_html += '\t\t</span>';\r\n                _html += '\t</td>';\r\n            } else {\r\n                _html += '\t<td data-cellnum=\"' + _i + '\">';\r\n                //_html += '\t\t<span class=\"outerCellFrame\">';\r\n                _html += '\t\t\t<a href=\"javascript:void(0);\" class=\"weekdayItem\">';\r\n                _html += '\t\t\t\t<span class=\"dateText\"><span class=\"item\"></span></span>';\r\n                // _html += '\t\t\t\t<span class=\"firstDayIco\"></span>';\r\n                // _html += '\t\t\t\t<span class=\"cover\"></span>';\r\n                _html += '\t\t\t</a>';\r\n                //_html += '\t\t</span>';\r\n                _html += '\t</td>';\r\n            }\r\n        }\r\n\r\n        _html += '</tr>';\r\n        return _html;\r\n    }\r\n};\r\n\r\nsk_datePicker.prototype.destroy = function() {\r\n    var _self = this;\r\n\r\n    if (_self.currentType == \"whatsOn\") {\r\n        _self.destroyDisplayContentWO();\r\n    }\r\n\r\n    _self.yearArrowLeft.off('click');\r\n    _self.yearArrowRight.off('click');\r\n    _self.monthArrowLeft.off('click');\r\n    _self.monthArrowRight.off('click');\r\n\r\n    _self.sk_selectorWrapper.remove();\r\n    _self.sk_datepickTable.remove();\r\n\r\n    _self.currentMonthArray = null;\r\n\r\n    _self.target = null;\r\n    _self.settings = null;\r\n\r\n    _self.initDate = null;\r\n    _self.initDateObj = null;\r\n    _self.language = null;\r\n\r\n    _self.sk_selectorWrapper = null;\r\n    _self.sk_datepickTable = null;\r\n\r\n    _self.currentMonth = null;\r\n    _self.currentYear = null;\r\n\r\n    _self.currentMonthFirstDate = null;\r\n    _self.currentMonthLastDate = null;\r\n\r\n    _self.currentMonthArray = null;\r\n\r\n    //console.log(_self.currentMonthArray, _self.sk_datepickTable);\r\n};\r\n"],"file":"../js/skon_datepicker.min.js"}